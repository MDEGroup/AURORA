automaton InternalModel automata latestEvent context Automaton states eventPattern eventTokens timedZones EventToken currentState recordedEvents lastProcessed timedZones State inTransitions outTransitions label eventTokens lastProcessedEvent inStateOf outStateOf InitState FinalState TrapState Transition preState postState TypedTransition guard EpsilonTransition Guard eventType transition EventContext TimedZone inState outState time Within HoldsFor